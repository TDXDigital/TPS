{% extends 'baseAdmin.twig' %}
{% block headScripts %}
    <link rel="stylesheet" href="{{siteUrl}}/js/chosen.css">
    <link rel="stylesheet" href="{{siteUrl}}/js/bootstrap/checkbox/css/bootstrap-checkbox.css">
    <link rel="stylesheet" href="{{siteUrl}}/js/jquery/css/smoothness/jquery-ui-1.10.0.custom.min.css"/>
{% endblock %}
{% block title %}{{title|default('Playlist')}}{% endblock %}
{% set playlist = playlists|first %}
{% block breadcrumb %}
<ol class="breadcrumb">
    <li>
        <i class="fa fa-dashboard"></i>  <a href="/">Dashboard</a>
    </li>
    <li>
        <i class="fa fa-line-chart"></i>  <a href="/playlist/">Playlist</a>
    </li>
    <li class="active">
        <i class="fa fa-bolt"></i>
        {{playlisst|keys|first|default('New')}}
    </li>
</ol>
{% if success is not null %}
    <div class="row">
        <div class="col-lg-12">
            <div class="alert alert-success" role="alert">{{success}}</div>
        </div>
    </div>
    {% endif %}
    <!--<span>SUCCESS: {{success}}, ERROR: {{error}}, ID: {{PRINTID}}| {% for id in PRINTID %}{{id}},{% endfor %}</span>-->
{% endblock %}
{% block content %}
<form role="form" method="post" action="./{{playlist.PlaylistId}}" >
    {% if playlist.PlaylistId is defined %}
        <input type="hidden" name="_METHOD" value="PUT"/>
        <input type="hidden" name="UID" value="{{playlist.PlaylistId}}"/>
    {% endif %}
    <div class="row">
        <div class="col-lg-6">
            <fieldset>
                <div id="name-group" class="form-group input-group">
                    <label class="input-group-addon" for="genre">ID</label>
                    <input name="name" id="genre" type="text"
                           {% if playlist.PlaylistId is defined %} value="{{playlist.PlaylistId}}" 
                           {% endif %}
                           disabled placeholder="ID will be AutoGenerated"
                           class="form-control" autofocus="autofocus">
                    {% if playlist.PlaylistId is defined %}
                        <input type="hidden" name="name" value="{{playlist.PlaylistId}}"/>
                    {% endif %}
                </div>
            </fieldset>
        </div>
        <div class="col-lg-6">
            <fieldset>
                <div id="name-group" class="form-group input-group">
                    <label class="input-group-addon" for="refCodes">ReferenceCode</label>
                    
                        {% if playlist.RefCode is defined %}
                            <a class="btn btn-default" href="/library/{{playlist.RefCode}}">{{playlist.RefCode}}</a>
                        {% else %}
                            <input name="refCode" id="refCodes" type="text" required
                           value="{{playlist.RefCode}}"
                            placeholder="RefCode" pattern="\d*"
                           class="form-control">
                        {% endif %}
                               
                </div>
            </fieldset>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <div class="row">
                <fieldset>
                    <div id="sort_group" class="form-group input-group">
                        <label for="startDate" class="input-group-addon">Start Date</label>
                        <input type="text" class="form-control datepicker" required
                               name="startDate" id="startDate" placeholder="2000-01-01"
                               pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
                               value="{{playlist.Activate|date("Y-m-d")}}"
                    </div>
                </fieldset>
            </div>
            <div class="row">
                <fieldset>
                    <div id="sort_group" class="form-group input-group">
                        <label for="endDate" class="input-group-addon">End Date</label>
                        <input type="text" class="form-control datepicker" required
                               name="endDate" id="endDate" placeholder="2000-01-02"
                               pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
                               value="{{playlist.Expire|date("Y-m-d")}}"
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="col-lg-6">
            <div class="row">
                <fieldset>
                    <div id="sort_group" class="form-group input-group">
                        <label for="zoneCode" class="input-group-addon">ZoneCode</label>
                        <input type="text" class="form-control"
                               name="zoneCode" id="zoneCode"
                               value="{{playlist.ZoneCode}}"
                    </div>
                </fieldset>
            </div>
            <div class="row">
                <fieldset>
                    <div id="sort_group" class="form-group input-group">
                        <label for="ZoneNumber" class="input-group-addon">ZoneNumber</label>
                        <input type="text" class="form-control"
                               name="ZoneNumber" id="zoneNumber"
                               value="{{playlist.ZoneNumber}}"
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <hr>
<div class="row">
    <div class="col-lg-6">
    </div>
    <div class="col-lg-6">
        <div class="pull-right">
            <input class="btn btn-primary" type="submit" >
        </div>
    </div>
</div>
            <br>
</form>
<style>
  .ui-autocomplete-loading {
    background: white url("../images/GIF/ajax-loader3.gif") right center no-repeat;
  }
</style>
{% endblock %}
{% block lastScripts %}
<script src="{{siteUrl}}/js/chosen.jquery.min.js"></script>
<script type="text/javascript" src="{{siteUrl}}/js/jquery/js/jquery-ui-1.11.0/jquery-ui.min.js"></script>
<script type="text/javascript" src="{{siteUrl}}/js/bootstrap/checkbox/js/bootstrap-checkbox.js "></script>
<script>
    $(function() {
        // Activate chosen elements
        $(".chosen-select").chosen();
        $( ".datepicker" ).datepicker({
            numberOfMonths: 3,
            showButtonPanel: true,
            dateFormat: "yy-mm-dd"
        });
      });
</script>
{% endblock %}
